#!/bin/bash

# –°–∫—Ä–∏–ø—Ç –¥–ª—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –ª–æ–≥–∞–º–∏

echo "üîß –û—á–∏—Å—Ç–∫–∞ –∏ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è..."
cd android
./gradlew clean
cd ..

echo "üì± –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è..."
npx react-native run-android &

# –ñ–¥–µ–º 10 —Å–µ–∫—É–Ω–¥ –¥–ª—è –∑–∞–ø—É—Å–∫–∞
sleep 10

echo "üìã –ó–∞–ø—É—Å–∫ –ª–æ–≥–æ–≤ (–Ω–∞–∂–º–∏—Ç–µ Ctrl+C –¥–ª—è –≤—ã—Ö–æ–¥–∞)..."
echo "–ò—â–µ–º –ª–æ–≥–∏ –∑–≤–æ–Ω–∫–æ–≤ (‚úì, ‚úó, ‚Üí)..."
echo ""

adb logcat | grep --line-buffered -E "(‚úì|‚úó|‚Üí|CallOverlay|call polling|call event|Incoming call)"
